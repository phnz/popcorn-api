<div class="jumbotron" ng-file-drop ng-file-change="upload($files)">
  <h1>Torrent Cloud</h1>
  <div class="form-group">
    <div class="input-group">
      <span class="input-group-addon">torrent:</span>
      <input type="text" class="form-control" placeholder="Torrent or magnet link" ng-model="link" ng-keypress="keypress($event)">
    </div>
  </div>
  <a class="btn btn-success" href="" ng-click="download()">
    <span class="fa fa-cloud-download"></span>
    Download
  </a>
  <p class="text-right">
    <i class="fa fa-upload"></i>
    You can also
    <span class="btn-link" ng-file-select ng-file-change="upload($files)">
      upload .torrent files
    </span>
    or drag & drop them here
  </p>
</div>

<div ng-if="!torrents.length" class="alert alert-info" role="alert">
  <i class="fa fa-film"></i> Go get some torrents to watch!
</div>

<div class="row content">
  <div ng-repeat="torrent in torrents" class="panel panel-default" ng-class="{ 'panel-warning': !torrent.ready, 'panel-success': torrent.interested }">
    <div class="panel-heading">
      <button type="button" class="close" ng-click="remove(torrent)">&times;</button>
      <span class="fa" ng-class="{
        'fa-cloud-upload': torrent.ready && !torrent.interested,
        'fa-refresh fa-spin': !torrent.ready,
        'fa-exchange': torrent.interested }">
      </span>
      {{ torrent.name || 'Fetching metadata...' }}
    </div>
    <div class="panel-body">
      <div class="progress progress-striped" ng-class="{ active: torrent.interested }">
        <div ng-class-even="'space'" ng-class-odd="'progress-bar progress-bar-success'"
             ng-repeat="progress in torrent.progress track by $index" ng-style="{ width: progress + '%' }"></div>
      </div>

      <ul class="list-group iframes" style="margin-top:20px;">
        <li class="list-group-item">
            <pre>&lt;iframe width="645px" height="365px" frameBorder="0" src="https://my.video/iframe/{{ torrent.infoHash }}"&gt;</iframe></pre>

        </li>
      </ul>
    </div>
    <div class="panel-footer">
      <ul class="list-unstyled list-inline">
        <li class="text-nowrap" ng-show="torrent.stats">
          <strong>Speed:</strong>
          <span class="label label-success">{{ torrent.stats.speed.down / 1024 | number:1 }}</span>
        </li>
        <li class="text-nowrap" ng-show="torrent.stats">
          <strong>Traffic:</strong>
          <span class="label label-success">{{ torrent.stats.traffic.down / 1024 / 1024 | number:1 }}</span>
        </li>
        <li class="text-nowrap" ng-show="torrent.stats">
          <strong>Peers:</strong>
          <span class="label label-success">{{ torrent.stats.peers.unchocked | number }}</span> /
          <span class="label label-default">{{ torrent.stats.peers.total | number }}</span>
        </li>
        <li class="text-nowrap" ng-show="torrent.stats">
          <strong>Queue:</strong>
          <span class="label label-primary">{{ torrent.stats.queue | number }}</span>
        </li>
      </ul>
    </div>
  </div>
</div>
